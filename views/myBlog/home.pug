doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Medium-Like Blog - Home
    link(rel="stylesheet", href="style.css")

  body
    nav
      .container
        h1
          a(href="/") Ibrahim's Blog
        ul
          li
            a(href="/") Home

          // If the user is not authenticated, show Sign Up and Login links
          if !isAuthenticated
            li
              a(href="/signup") Sign Up
            li
              a(href="/login") Login

          // If the user is authenticated, show Logout option and user info
          if isAuthenticated
            li
              a(href="/admin/add-blog") Add Blog
            li
              a(href="/admin/admin-dashboard") Dashboard
            li
              form(action="/logout", method="POST")
                button(type="submit") Logout
            li
              a(href="/")
                img.nav-user-image(src=user.imgUrl, alt="User Image") 
                span.nav-user-name= user.userName

    if errorMessage
      .user-message.user-message--error= errorMessage

    main
      .container
        h2 Latest Articles
        each blg in blogs
          .article-card
            h3
              a(href=`/article?id=${blg._id}`) #{ blg.title }

            // Create a container for the author info
            .author-info
              img.nav-user-image(src=blg.userId.imgUrl, alt="Author Image")
              span.nav-user-name #{ blg.userId.userName }

            p.nav-user-name Published on: #{ blg.date.toDateString() }
            p.excerpt #{ blg.description.substring(0, 120) }

//npx prettier --write "**/*.pug" --plugin="@prettier/plugin-pug"
